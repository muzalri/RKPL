<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


          
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" th:fragment="header">
    <div class="container-fluid">
        <a class="navbar-brand" th:href="@{/}">Registration and Login System</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</nav>
<br />
<br />
<br />
<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <div th:if="${param.error}">
                <div class="alert alert-danger">Invalid Username and Password.</div>
            </div>
            <div th:if="${param.logout}">
                <div class="alert alert-success">You have been logged out.</div>
            </div>
            <div class="card">
                <div class="card-header">
                    <h3 class="text-center">Login Form</h3>
                </div>
                <div class="card-body">
                    <form
                            method="post"
                            th:action="@{/login}"
                            class="form-horizontal"
                            role="form"
                    >
                        <div class="mb-3">
                            <label for="username" class="control-label">Username *</label>
                            <input type="text"
                                   id="username"
                                   name="username"
                                   class="form-control"
                                   placeholder="Username"
                            />
                        </div>

                        <div class="mb-3">
                            <label for="password" class="control-label">Password *</label>
                            <input type="password"
                                   id="password"
                                   name="password"
                                   class="form-control"
                                   placeholder="Password"
                            />
                        </div>

                        <div class="mb-3">
                            <button type="submit" class="btn btn-primary">Login</button>
                            <span> Not registered?
                            <a th:href="@{/register}"> Register/SignUp Here</a>
                        </span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>



<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Registration and Login System</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" th:href="@{/register}">Register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" th:href="@{/logout}">Logout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="container">
    <div class="row">
        <h1> Registered Users </h1>
    </div>
    <table class="table table-striped table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th id="no-tb">No.</th>
                <th id="name-tb">Name</th>
                <th>Username</th>
                <th>Role</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="user: ${users}">
                <td th:text="${userStat.index + 1}"></td>
                <td th:text="${user.firstName}"></td>
                <td th:text="${user.username}"></td>
                <td th:text="${user.name}"></td>
            </tr>
        </tbody>
    </table>
</div>

















<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Transactions</title>
</head>
<body>
<h1>Transactions</h1>
<a href="/transactions/new">Create New Transaction</a>
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Nama Pelanggan</th>
            <th>Nama Menu</th>
            <th>Jumlah</th>
            <th>Total Harga</th>
            <th>Nama Pegawai</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr th:each="transaction : ${transactions}">
            <td th:text="${transaction.id}">1</td>
            <td th:text="${transaction.namaPelanggan}">John Doe</td>
            <td th:text="${#strings.listJoin(transaction.namaMenu*.namaMenu, ', ')}">Menu 1, Menu 2</td>
            <td th:text="${transaction.jumlah}">2</td>
            <td th:text="${transaction.totalHarga}">100.0</td>
            <td th:text="${transaction.namaPegawai.name}">Jane Smith</td>
            <td>
                <a th:href="@{/transactions/{id}(id=${transaction.id})}">View</a>
                <a th:href="@{/transactions/{id}/edit(id=${transaction.id})}">Edit</a>
                <a th:href="@{/transactions/{id}/delete(id=${transaction.id})}">Delete</a>
            </td>
        </tr>
    </tbody>
</table>
</body>
</html>


<td th:text="${transaksi.createdAt}"></td>
                <td th:text="${transaksi.updatedAt}"></td>

                <td>
                    <a th:href="@{/transaksi/edit/{id}(id=${transaksi.id})}">Edit</a>
                    <a th:href="@{/transaksi/delete/{id}(id=${transaksi.id})}" 
                       onclick="return confirm('Apakah Anda yakin ingin menghapus transaksi ini?');">Delete</a>
                </td>
                <a href="@{/transaksi/create}">Tambah Transaksi Baru</a>










                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nama Pelanggan</th>
                            <th>Items</th>
                            <th>Kuantitas</th>
                            <th>Total</th>
                            <th>Nama Pegawai</th>
                            <th>Created At</th>
                            <th>Updated At</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="transaksi : ${transaksiList}">
                            <td th:text="${transaksi.id}"></td>
                            <td th:text="${transaksi.namaPelanggan}"></td>
                            <td>
                                <ul>
                                    <li th:each="item : ${transaksi.items}" th:text="${item.namaMenu}"></li>
                                </ul>
                            </td>
                            <td th:text="${transaksi.kuantitas}"></td>
                            <td th:text="${transaksi.total}"></td>
                            <td th:text="${transaksi.namaPegawai}"></td>
                            <td th:text="${transaksi.createdAt}"></td>
                            <td th:text="${transaksi.updatedAt}"></td>
                            <td>
                                <a th:href="@{/transaksi/edit/{id}(id=${transaksi.id})}">Edit</a>
                                <a th:href="@{/transaksi/delete/{id}(id=${transaksi.id})}" 
                                   onclick="return confirm('Apakah Anda yakin ingin menghapus transaksi ini?');">Delete</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <a th:href="@{/transaksi/create}">Tambah Transaksi Baru</a>
            